# Pythonスクリプトについて
このディレクトリには、音楽ファイルをFFT解析するPythonスクリプトが含まれています。
スクリプトの実行によって得られた解析結果をWebアプリで読み込むことで、音楽に合わせた星の瞬きの表現を行います。

## 使用ライブラリ
### 外部ライブラリ
- **librosa**: 音楽・音響信号解析ライブラリ
  - ライセンス: ISC License
  - URL: https://github.com/librosa/librosa
- **numpy**: 数値計算ライブラリ
  - ライセンス: BSD License
  - URL: https://github.com/numpy/numpy

### Python標準ライブラリ
- **json**: JSON形式での結果出力
- **math**: 数学関数
- **argparse**: コマンドライン引数の解析

## 環境構築
### 動作環境
Windows 10
Python 3.9.13


1. Python仮想環境の作成
```bash
python -m venv py-env
```

2. 仮想環境の有効化
```bash
`py-env\Scripts\activate`
```

3. 必要ライブラリのインストール
```bash
pip install librosa numpy
```

## スクリプトの実行方法
高速フーリエ変換を使った周波数解析を行います。
解析には時間がかかる場合があります。

```bash
py-env\Scripts\activate 
python fft.py [ファイル名（拡張子なし）]
```

## 出力ファイル
解析結果は `../public/fft/` ディレクトリに``[ファイル名]_fft.json``のファイル名で、JSON形式で出力されます。

### ファイル形式
出力JSONの構造：
```json
[
  {
    "volume": 音量レベル,
    "notes": {
      "n32": ノート値（正規化済み）,
      "n33": ノート値（正規化済み）,
      ...
    }
  },
  ...
]
```
